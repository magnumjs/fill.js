/*! fill.js - 1.0.0 | (c)2019  Michael Glazer | MIT | https://github.com/magnumjs/fill.js#readme */
var fill=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){var r=n(1);e.exports=r.default},function(e,t,n){"use strict";function r(e){return e&&1===e.nodeType}function o(e){var t=e&&parseInt(e.split("[").pop().slice(0,-1));return t?parseInt(t)-1:0}n.r(t);var i="__mag__";var a=0;function l(e){return e[i]=e[i]||{},e[i].uid||(e[i].uid=++a),e[i].uid}var u=[];function d(e,t){var n,r=(n&&n,n),o=l(e);if(u[r]=u[r]||[],u[r][o]&&u[r][o]==t)return 1;u[r][o]=t}function f(e,t){return function(e,t,n){var r=getPathTo3(t),o=getPathId(r);o||(o=getPathTo4(t));var i=fill.id;fill.setId(o);var a=findParentChild(t),l=a&&getPathTo2(a),u=getPathIndex(l),d=(r=r,getPathIndex(r)),f={path:l,node:a,data:((a||{})[MAGNUM]||[]).dataPass,index:u};fill.setId(i);var c=mag.doc.getElementById(o),s=mag.utils.items.getItem(o),v=e.call(~s?mag.mod.getMod(s):c,n,d,t,f);if(o&&c){var p=function(){mag.redraw(c,s,1)};v&&v.then?v.then(function(e){return p(),e}):p()}return v}.bind({},t,e)}function c(e,t,n,r){var o=t.substr(2).toLowerCase(),a=("string"==typeof r?r.split("/")[0]:"")+"-"+n[i].uid,l=n[i].events=n[i].events||[],u=n[i].eventHandlers=n[i].eventHandlers||[];u[o]=u[o]||[],u[o][a]=e,l[o]||(l[o]=1,function(e,t){function n(n){var r=e[i].eventHandlers[t];for(var o in r){var a=r[o];!1===f(e,a)(n)&&n.preventDefault()}}e.removeEventListener(t,n),e.addEventListener(t,n)}(n,o))}var s=[];function v(e,t,n,i){o(n);for(var a in s[l(e)]=s[l(e)]||[],t)if("text"!==a&&"html"!==a)if(0==a.indexOf("on"))c(t[a],a,e,i);else{if(s[l(e)]&&s[l(e)][a]==t[a])continue;null===t[a]?e.removeAttribute(a):"value"==a&&e.multiple&&e.selectedOptions&&Array.isArray(t[a])?(e.value=t[a],t[a].forEach(function(t){Array.from(e.options).find(function(e){return e.value==t}).selected=!0})):a in e?"style"==a?e[a].cssText=t[a]:e[a]=t[a]:e.setAttribute(a,String(t[a])),s[l(e)][a]=t[a]}!function(e,t){if(e&&null!=t&&!d(e,t)){var n=String(t);if("INPUT"===e.nodeName)if(~["radio","checkbox"].indexOf(e.type)){if(e.name){var r=mag.getNode(fill.id).querySelectorAll("[name="+e.name+"]");if(r.length>1){var o=!0,i=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var f=l.value;if(f.value==n){f.checked=!0;break}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}}}}else n!=e.value&&(e.value=n);else"SELECT"!==e.nodeName&&(e.firstChild?e.firstChild.textContent=n:e.appendChild(e.ownerDocument.createTextNode(n)));"SELECT"===e.nodeName&&n&&(e.value=n)}}(e,t.text),function(e,t){if(Array.isArray(t))for(var n in t)replaceNode(e,t[n],n);else r(t)?replaceNode(e,t,0):e&&null!=t&&!d(e,t)&&(e.innerHTML=t)}(e,t.html)}function p(e,t){var n=" "+e.className+" ";return e.id===t||~n.indexOf(" "+t+" ")||e.name===t||e.nodeName.toLowerCase()===t.toLowerCase()||e.getAttribute("data-bind")===t}function h(e,t,n){var r=function(e){var t=[];if(e){var n=e.childNodes;if(n)for(var r=0;r<n.length;r+=1)1===n[r].nodeType&&t.push(n[r])}return t}(e),o=[],i=t,a="$"===t[0];"$"===i[0]&&(i=i.substr(1));for(var l=0;l<r.length;l+=1)p(r[l],i)&&o.push(r[l]);if(!o.length||a)for(l=0;l<r.length&&(!(o=o.concat(h(r[l],t,!0))).length||a);l++);if(!n&&!o.length){var u={key:t,value:o,node:e};mag.hook("elementMatcher",t,u),u.change&&(o=u.value)}return o}var y=["toString","draw","then","hasOwnProperty","willgetprops","onbeforeunload","Symbol(Symbol.toStringTag)","nodeType","toJSON","onunload","willupdate","didupdate","didload","willload","isupdate"];function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t,n,a){var l,u=o(n);if(t&&r(t))!function(e,t){if(!d(e,t.outerHTML)&&(!t.id&&!e.childNodes[0]||t.id&&!document.getElementById(t.id)||e.firstChild&&!e.firstChild.isEqualNode(t))){for(e.hasChildNodes()||t[i]&&t[i].scid&&(clone=e.cloneNode(1),clone[i]={childof:t[i].scid},mag._cprops[t[i].scid]=clone);e.lastChild;)e.removeChild(e.lastChild);t[i]&&void 0!==t[i].childof?(e.innerHTML=t.innerHTML,t[i].childof):e.appendChild(t)}}(e,t);else{if("function"==typeof t)return functionHandler(t,e,u,n);if("object"!==m(t))return g(e,{_text:t},n);(l=function(e,t){var n;for(var r in t){var o=t[r];void 0===o?o="":null===o&&-1===["onunload"].indexOf(r)?(e[i].detached=e[i].detached||[],e[i].detached[r]=1,removeChildren(e,r)):e[i].detached&&e[i].detached[r]&&(reattachChildren(e,r,o.nodeType),e[i].detached[r]=0),("_"===r[0]&&"_"!==r[1]||"on"==r.substr(0,2))&&(n=n||{},"on"==r.substr(0,2)?n[r]=o:n[r.substr(1)]=o)}return n}(e,t))&&v(e,l,n,a),function(e,t,n){for(var r in t){var o=t[r];~y.indexOf(r)||"_"!==r[0]&&"on"!=r.substr(0,2)&&T(h(e,r),o,n+"/"+r)}}(e,t,n)}}function b(e){var t;if(null==e.length&&(e=[e]),!Array.isArray(e)){t=[];for(var n=0;n<e.length;n+=1)e[n]&&t.push(e[n]);e=t}return e}var _=[];function x(e,t,n){var r=l(e);if(_[r])return _[r];var o=+n==+n?t+n:t,a="string"==typeof n?n.split(")")[1]+"/":"/",u='id("'+name+'")'+a+e.tagName+"["+o+"]";return _[r]=e[i].xpath=u}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"default",function(){return T});var N="_key",C={};function T(e,t,n){var r,o;if(e){null==t&&(t={_text:""});var a=b(e);if(o=Array.isArray(t)){if(C[n]&&0===a.length&&(C[n].parent.insertAdjacentHTML("beforeend",C[n].node),a=b(C[n].parent.children)),!a.length)return;var l=a[0].parentNode;C[n]||(C[n]={node:a[0].cloneNode(1).outerHTML,parent:l});for(var u=document.createDocumentFragment(),d=0;a.length<t.length;)C[n]?(l.insertAdjacentHTML("beforeend",C[n].node),r=l.lastChild):r=a[0].cloneNode(1),x(r,++d,n),a.push(r),u.appendChild(r);l.appendChild(u);var f=t.map(function(e){return e&&e[N]});if(a.length!=t.length&&-1===f.indexOf(void 0)||(t=t.map(function(e,t){if("object"===S(e)){if(a[t][i]=a[t][i]||{},a[t][i].__key&&void 0===S(e[N]))return e[N]=a[t][i].__key,e;void 0===S(e[N])&&(e[N]=i+t),a[t][i].__key=e[N]}return e})),a.length>t.length)if(0===t.length||"object"!==S(t[0]))for(;a.length>t.length;)(l=(r=a.pop()).parentNode)&&removeNode(r);else{var c=[],s=t.map(function(e){return e[N]});a=a.filter(function(e,t){var n;return null==S(e[i])?n=1:~s.indexOf(e[i].__key)&&!~c.indexOf(e[i].__key)||(c.push(e[i].__key),n=1),n?(removeNode(e),!1):(c.push(e[i].__key),!0)})}}for(var v=0;v<a.length;v++)if(o)a[v]&&T(a[v],t[v],v);else{var p=x(a[v],v+1,n);g(a[v],t,p,n)}}}}]);